{"type":"flow","name":"Planning 2","description":"Planning and Stock Report Generation, group chat using transition rules.","tags":[],"requirements":[],"storageId":"id-f1f95812-cdc6-4066-9719-3d773ccd6382","createdAt":"2024-11-19T18:48:26.174Z","updatedAt":"2024-11-19T18:48:26.490Z","data":{"nodes":[{"id":"wa--pDXaZuA43bmJjV8I_Ar6","type":"agent","position":{"x":240,"y":375},"hidden":false,"measured":{"width":206,"height":216},"selected":false},{"id":"wa-IUAkowjx2WoD2Vj1rzrs_","type":"agent","position":{"x":675,"y":315},"hidden":false,"measured":{"width":206,"height":283},"selected":false},{"id":"wa-w2HTP7tlWiqP_4Z7uChWE","type":"agent","position":{"x":735,"y":-75},"hidden":false,"measured":{"width":8,"height":15},"selected":false,"dragging":false},{"id":"wm-SAqwA-43hLkpXYLje1lZ0","type":"model","position":{"x":0,"y":0},"measured":{"width":182,"height":182},"selected":false,"hidden":true},{"id":"wa-RUBInsH4QGJF-HTcjVPyZ","type":"agent","position":{"x":345,"y":0},"hidden":false,"measured":{"width":8,"height":15},"selected":false,"dragging":false},{"id":"wa-oZU5OdAnp7Hv12IioG4-3","type":"agent","position":{"x":510,"y":45},"hidden":false,"measured":{"width":8,"height":15},"selected":false},{"id":"wa-BFY4Fmb6lKf_wAl-Jd8Zg","type":"agent","position":{"x":570,"y":90},"hidden":false,"measured":{"width":8,"height":15},"selected":false,"dragging":false}],"edges":[{"id":"we-5UbFtOQWM7pbcbQPr2hls","source":"wa--pDXaZuA43bmJjV8I_Ar6","target":"wa-IUAkowjx2WoD2Vj1rzrs_","type":"chat","animated":false,"selected":false,"style":{"stroke":"#bc76f5","strokeWidth":3},"markerEnd":{"type":"arrowclosed","color":"#bc76f5","width":10,"height":10},"hidden":false},{"id":"we-vH-2EAa7bJpiiPsss20M1","type":"group","source":"wa-IUAkowjx2WoD2Vj1rzrs_","target":"wa-w2HTP7tlWiqP_4Z7uChWE","animated":false,"style":{"stroke":"#ed8a34","strokeWidth":3},"markerEnd":{"type":"arrowclosed","color":"#ed8a34","width":10,"height":10},"hidden":false},{"id":"we-IE1agJJRG_oK3TsjCHaEB","type":"group","source":"wa-IUAkowjx2WoD2Vj1rzrs_","target":"wa-RUBInsH4QGJF-HTcjVPyZ","animated":false,"style":{"stroke":"#ed8a34","strokeWidth":3},"markerEnd":{"type":"arrowclosed","color":"#ed8a34","width":10,"height":10},"hidden":false},{"id":"we-Ps6ivIKUMHADIOZsv7m1Q","type":"group","source":"wa-IUAkowjx2WoD2Vj1rzrs_","target":"wa-oZU5OdAnp7Hv12IioG4-3","animated":false,"style":{"stroke":"#ed8a34","strokeWidth":3},"markerEnd":{"type":"arrowclosed","color":"#ed8a34","width":10,"height":10},"hidden":false},{"id":"we-UlFeleQVE_2Imv4-gYGmB","type":"group","source":"wa-IUAkowjx2WoD2Vj1rzrs_","target":"wa-BFY4Fmb6lKf_wAl-Jd8Zg","animated":false,"style":{"stroke":"#ed8a34","strokeWidth":3},"markerEnd":{"type":"arrowclosed","color":"#ed8a34","width":10,"height":10},"hidden":false}],"viewport":{"x":62.5,"y":210,"zoom":1},"agents":{"users":[{"id":"wa--pDXaZuA43bmJjV8I_Ar6","type":"agent","agentType":"user","name":"Admin","description":"Admin","tags":[],"requirements":[],"createdAt":"2024-09-28T11:50:40.337Z","updatedAt":"2024-10-28T20:35:04.115Z","data":{"systemMessage":"Give the task, and send instructions to writer to refine the blog post.","humanInputMode":"ALWAYS","codeExecutionConfig":false,"agentDefaultAutoReply":null,"maxConsecutiveAutoReply":null,"termination":{"type":"none","keywords":[],"criterion":null,"methodContent":null},"teachability":{"enabled":false,"verbosity":0,"resetDb":false,"recallThreshold":0,"maxMumRetrievals":0},"modelIds":[],"skills":[],"parentId":null,"nestedChats":[]}}],"assistants":[{"id":"wa-w2HTP7tlWiqP_4Z7uChWE","type":"agent","agentType":"assistant","name":"Engineer","description":"An engineer that writes code based on the plan provided by the planner.","tags":[],"requirements":[],"createdAt":"2024-09-28T11:50:44.081Z","updatedAt":"2024-10-28T20:35:19.273Z","data":{"systemMessage":null,"humanInputMode":"NEVER","codeExecutionConfig":false,"agentDefaultAutoReply":null,"maxConsecutiveAutoReply":null,"termination":{"type":"none","keywords":[],"criterion":null,"methodContent":null},"teachability":{"enabled":false,"verbosity":0,"resetDb":false,"recallThreshold":0,"maxMumRetrievals":0},"modelIds":["wm-SAqwA-43hLkpXYLje1lZ0"],"skills":[],"parentId":"wa-IUAkowjx2WoD2Vj1rzrs_","nestedChats":[]}},{"id":"wa-RUBInsH4QGJF-HTcjVPyZ","type":"agent","agentType":"assistant","name":"Executor","description":"Executes the code written by the engineer and reports the result.","tags":[],"requirements":[],"createdAt":"2024-09-28T11:52:15.963Z","updatedAt":"2024-09-28T11:58:41.913Z","data":{"systemMessage":"Execute the code written by the engineer and report the result.","humanInputMode":"NEVER","codeExecutionConfig":{"workDir":"coding","timeout":30},"agentDefaultAutoReply":null,"maxConsecutiveAutoReply":null,"termination":{"type":"none","keywords":[],"criterion":null,"methodContent":null},"teachability":{"enabled":false,"verbosity":0,"resetDb":false,"recallThreshold":0,"maxMumRetrievals":0},"modelIds":[],"skills":[],"parentId":"wa-IUAkowjx2WoD2Vj1rzrs_","nestedChats":[]}},{"id":"wa-oZU5OdAnp7Hv12IioG4-3","type":"agent","agentType":"assistant","name":"Writer","description":"Writer. Write blogs based on the code execution results and take feedback from the admin to refine the blog.","tags":[],"requirements":[],"createdAt":"2024-09-28T11:59:05.318Z","updatedAt":"2024-09-28T11:59:40.852Z","data":{"systemMessage":"Writer. Please write blogs in markdown format (with relevant titles) and put the content in pseudo ```md``` code block. You take feedback from the admin and refine your blog.","humanInputMode":"NEVER","codeExecutionConfig":false,"agentDefaultAutoReply":null,"maxConsecutiveAutoReply":null,"termination":{"type":"none","keywords":[],"criterion":null,"methodContent":null},"teachability":{"enabled":false,"verbosity":0,"resetDb":false,"recallThreshold":0,"maxMumRetrievals":0},"modelIds":["wm-SAqwA-43hLkpXYLje1lZ0"],"skills":[],"parentId":"wa-IUAkowjx2WoD2Vj1rzrs_","nestedChats":[]}},{"id":"wa-BFY4Fmb6lKf_wAl-Jd8Zg","type":"agent","agentType":"assistant","name":"Planner","description":"Planner. Given a task, determine what information is needed to complete the task. After each step is done by others, check the progress and instruct the remaining steps.","tags":[],"requirements":[],"createdAt":"2024-09-28T11:59:51.410Z","updatedAt":"2024-09-28T12:00:20.754Z","data":{"systemMessage":"Given a task, please determine what information is needed to complete the task. Please note that the information will all be retrieved using Python code. Please only suggest information that can be retrieved using Python code. After each step is done by others, check the progress and instruct the remaining steps. If a step fails, try to workaround.","humanInputMode":"NEVER","codeExecutionConfig":false,"agentDefaultAutoReply":null,"maxConsecutiveAutoReply":null,"termination":{"type":"none","keywords":[],"criterion":null,"methodContent":null},"teachability":{"enabled":false,"verbosity":0,"resetDb":false,"recallThreshold":0,"maxMumRetrievals":0},"modelIds":["wm-SAqwA-43hLkpXYLje1lZ0"],"skills":[],"parentId":"wa-IUAkowjx2WoD2Vj1rzrs_","nestedChats":[]}}],"managers":[{"id":"wa-IUAkowjx2WoD2Vj1rzrs_","type":"agent","agentType":"manager","name":"Manager","description":"A group manager agent","tags":[],"requirements":[],"createdAt":"2024-09-28T11:50:42.298Z","updatedAt":"2024-10-28T20:35:13.683Z","data":{"systemMessage":null,"humanInputMode":"NEVER","codeExecutionConfig":false,"agentDefaultAutoReply":null,"maxConsecutiveAutoReply":null,"termination":{"type":"none","keywords":[],"criterion":null,"methodContent":null},"teachability":{"enabled":false,"verbosity":0,"resetDb":false,"recallThreshold":0,"maxMumRetrievals":0},"modelIds":["wm-SAqwA-43hLkpXYLje1lZ0"],"skills":[],"parentId":null,"nestedChats":[],"maxRound":10,"adminName":"Admin","enableClearHistory":false,"sendIntroductions":false,"speakers":{"selectionMethod":"auto","selectionCustomMethod":"","maxRetriesForSelecting":null,"selectionMode":"transition","allowRepeat":true,"allowedOrDisallowedTransitions":{"wa--pDXaZuA43bmJjV8I_Ar6":["wa-w2HTP7tlWiqP_4Z7uChWE","wa-oZU5OdAnp7Hv12IioG4-3","wa-RUBInsH4QGJF-HTcjVPyZ","wa-BFY4Fmb6lKf_wAl-Jd8Zg"],"wa-w2HTP7tlWiqP_4Z7uChWE":["wa--pDXaZuA43bmJjV8I_Ar6","wa-RUBInsH4QGJF-HTcjVPyZ"],"wa-RUBInsH4QGJF-HTcjVPyZ":["wa--pDXaZuA43bmJjV8I_Ar6","wa-w2HTP7tlWiqP_4Z7uChWE","wa-BFY4Fmb6lKf_wAl-Jd8Zg"],"wa-BFY4Fmb6lKf_wAl-Jd8Zg":["wa--pDXaZuA43bmJjV8I_Ar6","wa-w2HTP7tlWiqP_4Z7uChWE","wa-oZU5OdAnp7Hv12IioG4-3"],"wa-oZU5OdAnp7Hv12IioG4-3":["wa--pDXaZuA43bmJjV8I_Ar6","wa-BFY4Fmb6lKf_wAl-Jd8Zg"]},"transitionsType":"allowed"}}}],"rag_users":[]},"models":[{"id":"wm-SAqwA-43hLkpXYLje1lZ0","type":"model","name":"gpt-3.5-turbo","description":"OpenAI GPT-3.5","tags":[],"requirements":[],"createdAt":"2024-10-28T07:23:33.793Z","updatedAt":"2024-10-28T20:33:28.531Z","data":{"apiKey":"REPLACE_ME","apiType":"openai","baseUrl":null,"temperature":null,"topP":null,"maxTokens":null,"defaultHeaders":{},"price":{"promptPricePer1k":null,"completionTokenPricePer1k":null}}}],"skills":[],"chats":[{"id":"we-5UbFtOQWM7pbcbQPr2hls","data":{"source":"wa--pDXaZuA43bmJjV8I_Ar6","target":"wa-IUAkowjx2WoD2Vj1rzrs_","name":"User => Manager","order":1,"description":"New connection","position":1,"clearHistory":false,"maxTurns":null,"message":{"type":"method","use_carryover":false,"content":"\"\"\"Custom message function.\"\"\"\n# provide the message to be sent when the sender and the recipient are connected\n# complete the `callable_message` below. Do not change the name or the arguments of the function.\n# only complete the function body and the docstring and return the:\n# final message: (str) or a dictionary with the final message and additional data (dict)\n#\n# the recipient and the sender are 'autogen.ConversableAgent' objects\n# the context is generated from the sender's initiate_chat additional keyword arguments\n# example:\n# def callable_message(sender, recipient, context):\n#   # type: (ConversableAgent, ConversableAgent, dict) -> Union[str, Dict]\n#   carryover = context.get(\"carryover\", \"\")\n#    if isinstance(carryover, list):\n#        carryover = carryover[-1]\n#    final_msg = \"Write a blogpost.\" + \"\\nContext: \\n\" + carryover\n#    return final_msg\n#\ndef callable_message(sender, recipient, context):\n    \"\"\"Return the task.\"\"\"\n    import datetime  # pylint: disable=import-outside-toplevel\n\n    today = datetime.datetime.now().date()\n    message = (\n        \"Write a blogpost about the stock price performance of \"\n        f\"Nvidia in the past month. Today's date is {today}\"\n    )\n    return message\n","context":{}},"nestedChat":{"message":null,"reply":null},"summary":{"method":"last_msg","prompt":"","args":{}}}},{"id":"we-vH-2EAa7bJpiiPsss20M1","data":{"source":"wa-IUAkowjx2WoD2Vj1rzrs_","target":"wa-w2HTP7tlWiqP_4Z7uChWE","name":"Chat","order":-1,"description":"New connection","position":1,"clearHistory":true,"maxTurns":null,"message":{"type":"none","use_carryover":false,"content":null,"context":{}},"nestedChat":{"message":null,"reply":null},"summary":{"method":"last_msg","prompt":"","args":{}}}},{"id":"we-IE1agJJRG_oK3TsjCHaEB","data":{"source":"wa-IUAkowjx2WoD2Vj1rzrs_","target":"wa-RUBInsH4QGJF-HTcjVPyZ","name":"Chat","order":-1,"description":"New connection","position":2,"clearHistory":true,"maxTurns":null,"message":{"type":"none","use_carryover":false,"content":null,"context":{}},"nestedChat":{"message":null,"reply":null},"summary":{"method":"last_msg","prompt":"","args":{}}}},{"id":"we-Ps6ivIKUMHADIOZsv7m1Q","data":{"source":"wa-IUAkowjx2WoD2Vj1rzrs_","target":"wa-oZU5OdAnp7Hv12IioG4-3","name":"Chat","order":-1,"description":"New connection","position":3,"clearHistory":true,"maxTurns":null,"message":{"type":"none","use_carryover":false,"content":null,"context":{}},"nestedChat":{"message":null,"reply":null},"summary":{"method":"last_msg","prompt":"","args":{}}}},{"id":"we-UlFeleQVE_2Imv4-gYGmB","data":{"source":"wa-IUAkowjx2WoD2Vj1rzrs_","target":"wa-BFY4Fmb6lKf_wAl-Jd8Zg","name":"Chat","order":-1,"description":"New connection","position":4,"clearHistory":true,"maxTurns":null,"message":{"type":"none","use_carryover":false,"content":null,"context":{}},"nestedChat":{"message":null,"reply":null},"summary":{"method":"last_msg","prompt":"","args":{}}}}]}}
